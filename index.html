<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>xqyjlj - 小权一句两句的博客</title><meta name="keywords" content="赛车、二次元、嵌入式、物联网、通信、智能硬件"><meta name="author" content="xqyjlj"><meta name="copyright" content="xqyjlj"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="聚焦赛车、二次元、嵌入式、物联网、通信、智能硬件的阿宅">
<meta property="og:type" content="website">
<meta property="og:title" content="xqyjlj">
<meta property="og:url" content="https://xqyjlj.github.io/index.html">
<meta property="og:site_name" content="xqyjlj">
<meta property="og:description" content="聚焦赛车、二次元、嵌入式、物联网、通信、智能硬件的阿宅">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://xqyjlj.github.io/img/avatar.jpg">
<meta property="article:author" content="xqyjlj">
<meta property="article:tag" content="赛车、二次元、嵌入式、物联网、通信、智能硬件">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://xqyjlj.github.io/img/avatar.jpg"><link rel="shortcut icon" href="/img/avatar.jpg"><link rel="canonical" href="https://xqyjlj.github.io/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-right"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'xqyjlj',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-03-20 10:03:55'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="xqyjlj" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">27</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">27</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 视频</span></a></li><li><a class="site-page child" href="/donate/"><i class="fa-fw fas fa-donate"></i><span> 打赏</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/myself/"><i class="fa-fw fas fa-heart"></i><span> 博主</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/img/index_img.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">xqyjlj</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 视频</span></a></li><li><a class="site-page child" href="/donate/"><i class="fa-fw fas fa-donate"></i><span> 打赏</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/myself/"><i class="fa-fw fas fa-heart"></i><span> 博主</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">xqyjlj</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="/atom.xml" target="_blank" title="RSS链接"><i class="fa fa-rss"></i></a><a class="social-icon" href="https://github.com/xqyjlj" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:xqyjlj@126.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2024/03/12/note-debug-tricore-trap-class4-tin3/" title="TriCore Class4,Tin3 Trap调试笔记"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2024/03/12/note-debug-tricore-trap-class4-tin3/note_03.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="TriCore Class4,Tin3 Trap调试笔记"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/03/12/note-debug-tricore-trap-class4-tin3/" title="TriCore Class4,Tin3 Trap调试笔记">TriCore Class4,Tin3 Trap调试笔记</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-12T17:17:30.000Z" title="发表于 2024-03-12 17:17:30">2024-03-12</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/">开发笔记</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/TriCore-Debug/">TriCore - Debug</a></span></div><div class="content">问题描述在一个基于 TC397(TriCore)板子的代码功能合并中，观察到以下现象：单独运行 a 功能或 b 功能时，系统均表现正常，无异常发生。然而，当尝试将这两个功能合并运行时，系统出现异常，触发 Class4,Tin3 陷阱。尽管栈回溯还原的现场显示正常，但异常仍在访问一个正常的结构体变量后发生。让我们正在深入分析这一合并运行时的异常行为。
调试与步骤首先，根据手册描述，DAE 陷阱通常发生在内存系统报告的错误无法立即与当前执行的指令相关联时，这通常涉及外设或外部存储器返回的错误。触发 DAE 陷阱的情况包括数据存储操作导致的总线错误、高速缓存管理指令错误以及高速缓存行回写错误。

为了更精确地确定错误源，我们需要参考 AURIX TC3xx 的用户手册，其中提到了 DATR 寄存器。这个寄存器作为 DAE 陷阱的状态标志寄存器，为我们提供了关于 DAE 陷阱原因的信息。因此，在分析 a 和 b 功能合并运行时触发的 Class4,Tin3 陷阱时，我们需要重点检查 DATR 寄存器的状态，以进一步确定导致异常的具体原因。通过解读 DATR 寄存器的值，我们可以更好地理解这一异 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/03/11/AUTOSAR-CP-Compiler/" title="AUTOSAR CP 编译器抽象层"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2024/03/11/AUTOSAR-CP-Compiler/AUTOSAR_07.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AUTOSAR CP 编译器抽象层"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/03/11/AUTOSAR-CP-Compiler/" title="AUTOSAR CP 编译器抽象层">AUTOSAR CP 编译器抽象层</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-11T14:04:58.000Z" title="发表于 2024-03-11 14:04:58">2024-03-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/AUTOSAR/">AUTOSAR</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/AUTOSAR/AUTOSAR-Common/">AUTOSAR Common</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/AUTOSAR-CP/">AUTOSAR CP</a></span></div><div class="content">
本文章所参考的 AUTOSAR 标准为 4.4.0 版本

简介</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/03/07/AUTOSAR-CP-OS-%E5%A4%9A%E6%A0%B8%E7%AE%A1%E7%90%86/" title="AUTOSAR-CP-OS-多核管理"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2024/03/07/AUTOSAR-CP-OS-%E5%A4%9A%E6%A0%B8%E7%AE%A1%E7%90%86/AUTOSAR_06.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AUTOSAR-CP-OS-多核管理"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/03/07/AUTOSAR-CP-OS-%E5%A4%9A%E6%A0%B8%E7%AE%A1%E7%90%86/" title="AUTOSAR-CP-OS-多核管理">AUTOSAR-CP-OS-多核管理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-07T18:37:43.000Z" title="发表于 2024-03-07 18:37:43">2024-03-07</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/AUTOSAR/">AUTOSAR</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/AUTOSAR/AUTOSAR-System-Services/">AUTOSAR System Services</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/AUTOSAR-CP/">AUTOSAR CP</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/BSW/">BSW</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/OS/">OS</a></span></div><div class="content"></div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/02/27/note-perf-mbw/" title="mbw性能优化笔记"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2024/02/27/note-perf-mbw/note_02.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="mbw性能优化笔记"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/02/27/note-perf-mbw/" title="mbw性能优化笔记">mbw性能优化笔记</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-02-27T15:30:00.000Z" title="发表于 2024-02-27 15:30:00">2024-02-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/">开发笔记</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/">性能优化</a></span></div><div class="content"></div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/02/27/note-perf-dhrystone/" title="dhrystone性能优化笔记"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2024/02/27/note-perf-dhrystone/note_01.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="dhrystone性能优化笔记"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/02/27/note-perf-dhrystone/" title="dhrystone性能优化笔记">dhrystone性能优化笔记</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-02-27T15:04:20.000Z" title="发表于 2024-02-27 15:04:20">2024-02-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/">开发笔记</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/">性能优化</a></span></div><div class="content"></div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/02/27/libc-pthread_cancel/" title="libc pthread_cancel详解"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2024/02/27/libc-pthread_cancel/libc_02.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="libc pthread_cancel详解"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/02/27/libc-pthread_cancel/" title="libc pthread_cancel详解">libc pthread_cancel详解</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-02-27T14:46:26.000Z" title="发表于 2024-02-27 14:46:26">2024-02-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/libc/">libc</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/linux/">linux</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/pthread/">pthread</a></span></div><div class="content"></div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/02/27/libc-futex/" title="libc futex详解"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2024/02/27/libc-futex/libc_01.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="libc futex详解"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/02/27/libc-futex/" title="libc futex详解">libc futex详解</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-02-27T14:27:33.000Z" title="发表于 2024-02-27 14:27:33">2024-02-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/libc/">libc</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/linux/">linux</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/syscall-ipc/">syscall - ipc</a></span></div><div class="content"></div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/02/26/AUTOSAR-CP-Wdg%E5%8D%8F%E8%AE%AE%E6%A0%88/" title="AUTOSAR CP Wdg协议栈详解"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2024/02/26/AUTOSAR-CP-Wdg%E5%8D%8F%E8%AE%AE%E6%A0%88/AUTOSAR_05.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AUTOSAR CP Wdg协议栈详解"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/02/26/AUTOSAR-CP-Wdg%E5%8D%8F%E8%AE%AE%E6%A0%88/" title="AUTOSAR CP Wdg协议栈详解">AUTOSAR CP Wdg协议栈详解</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-02-26T14:41:52.000Z" title="发表于 2024-02-26 14:41:52">2024-02-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/AUTOSAR/">AUTOSAR</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/AUTOSAR/AUTOSAR-%E5%8D%8F%E8%AE%AE%E6%A0%88%E8%A7%A3%E6%9E%90/">AUTOSAR 协议栈解析</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/AUTOSAR-CP/">AUTOSAR CP</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/BSW/">BSW</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Wdg/">Wdg</a></span></div><div class="content">
本文章所参考的 AUTOSAR 标准为 4.4.0 版本

Watchdog 基本功能Watchdog，即看门狗，其主要功能是在设备无人值守时，自动复位系统，确保系统持续稳定运行。这一功能对于关键安全系统至关重要，同时对于非关键安全系统也具有重要意义。
在实际应用中，由于硬件老化、外部电磁干扰等因素，软件在运行过程中可能出现不可预测的行为。若无看门狗机制，这些问题可能导致设备故障，特别是在恶劣环境如沙漠地带，将显著增加不必要的维护成本。
对于汽车而言，ECU 中的软件同样可能受到电磁干扰、高温等环境因素的影响，从而引发程序异常。然而，正是看门狗机制的存在，在关键时刻能够触发系统复位，及时将设备恢复到正常工作状态，有效防止潜在风险。
看门狗的实现方式主要有硬件看门狗和软件看门狗两种。硬件看门狗依赖硬件机制，通过定时器原理实现，软件仅负责启动定时器；而软件看门狗则完全由软件控制定时器的启动和更新。
硬件看门狗如上所述，硬件看门狗主要依赖自身的定时器来实现其功能，因此被俗称为“硬狗”。常见的硬件看门狗形式包括 MCU 内部自带的看门狗、PMIC 中内嵌的看门狗，以及外部的独立看门狗等。
在 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/02/23/AUTOSAR-CP-Wdg/" title="AUTOSAR CP Watchdog Driver模块详解"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2024/02/23/AUTOSAR-CP-Wdg/AUTOSAR_04.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AUTOSAR CP Watchdog Driver模块详解"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/02/23/AUTOSAR-CP-Wdg/" title="AUTOSAR CP Watchdog Driver模块详解">AUTOSAR CP Watchdog Driver模块详解</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-02-23T15:59:49.000Z" title="发表于 2024-02-23 15:59:49">2024-02-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/AUTOSAR/">AUTOSAR</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/AUTOSAR/AUTOSAR-Microcontroller-Drivers/">AUTOSAR Microcontroller Drivers</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/AUTOSAR-CP/">AUTOSAR CP</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/BSW/">BSW</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Wdg/">Wdg</a></span></div><div class="content">
本文章所参考的 AUTOSAR 标准为 4.4.0 版本

简介该模块具备初始化硬件看门狗、调整操作模式以及设定触发喂狗机制等功能。看门狗可根据其位置分为内部与外部两种类型，其中，内置于芯片内的称为内部看门狗，而外置的则称为外部看门狗。
无论是内部还是外部看门狗，Watchdog Driver 所使用的 API 都应保持统一。内部看门狗驱动属于 MCAL 层，而外部看门狗则属于 ECU 硬件抽象层。对于外部看门狗，其驱动需依赖 MCAL 中的其他驱动，如 GPIO、IIC 或 SPI 等，以执行喂狗操作。
内部看门狗内部看门狗作为芯片内置的硬件监控机制，其驱动通常由芯片厂商提供。在使用前，务必确认其复位动作类型，避免冷复位或复位不完全等情形，以确保其能有效实现安全监控。然而，由于内部看门狗与芯片硬件紧密相关，若芯片本身存在硬件故障，可能会导致内部看门狗失效，从而陷入自保困境。因此，在关键安全系统中，单纯依赖内部看门狗可能不足以确保功能安全，此时需结合外部看门狗来共同保障系统的稳定运行。
外部看门狗外部看门狗独立于受保护的芯片，可以是专门的硬件看门狗设备，通常达到 QM 等级。另一种类 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/02/23/AUTOSAR-CP-WdgIf/" title="AUTOSAR CP Watchdog Interface模块详解"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2024/02/23/AUTOSAR-CP-WdgIf/AUTOSAR_03.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AUTOSAR CP Watchdog Interface模块详解"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/02/23/AUTOSAR-CP-WdgIf/" title="AUTOSAR CP Watchdog Interface模块详解">AUTOSAR CP Watchdog Interface模块详解</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-02-23T15:59:49.000Z" title="发表于 2024-02-23 15:59:49">2024-02-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/AUTOSAR/">AUTOSAR</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/AUTOSAR/AUTOSAR-Onboard-Device-Abstraction/">AUTOSAR Onboard Device  Abstraction</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/AUTOSAR-CP/">AUTOSAR CP</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/BSW/">BSW</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Wdg/">Wdg</a></span></div><div class="content">
本文章所参考的 AUTOSAR 标准为 4.4.0 版本

简介Watchdog Interface（简称 Watchdog If）模块作为底层 Watchdog Driver 的抽象层，旨在实现底层硬件与上层软件之间的解耦。它的核心功能是提供一个统一的接口，使得上层 Watchdog Manager 能够与底层看门狗驱动进行交互，而无需关心底层驱动的具体实现细节。
Watchdog If 模块并不负责底层看门狗驱动的特性设置，如窗口控制、时间周期等。这些特性的配置和管理仍然由底层的 Watchdog Driver 负责。Watchdog If 仅作为中介，确保上层 Manager 与底层 Driver 之间的通信顺畅。
当多个看门狗驱动被上层 Watchdog Manager 管理时，Watchdog If 模块通过 DeviceIndex 来区分和识别不同的驱动。如果在交互过程中出现错误，Watchdog If 模块将负责及时上报，确保系统能够作出相应的响应和处理。
总之，Watchdog If 模块在 AUTOSAR 架构的 Watchdog 协议栈中扮演着关键角色，它确保了底 ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><a class="page-number" href="/page/3/#content-inner">3</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">xqyjlj</div><div class="author-info__description">聚焦赛车、二次元、嵌入式、物联网、通信、智能硬件的阿宅</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">27</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">27</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xqyjlj"><i class="fab fa-github"></i><span>Github</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="/atom.xml" target="_blank" title="RSS链接"><i class="fa fa-rss"></i></a><a class="social-icon" href="https://github.com/xqyjlj" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:xqyjlj@126.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">似此星辰非昨夜，为谁风露立中宵</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/03/12/note-debug-tricore-trap-class4-tin3/" title="TriCore Class4,Tin3 Trap调试笔记"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2024/03/12/note-debug-tricore-trap-class4-tin3/note_03.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="TriCore Class4,Tin3 Trap调试笔记"/></a><div class="content"><a class="title" href="/2024/03/12/note-debug-tricore-trap-class4-tin3/" title="TriCore Class4,Tin3 Trap调试笔记">TriCore Class4,Tin3 Trap调试笔记</a><time datetime="2024-03-12T17:17:30.000Z" title="发表于 2024-03-12 17:17:30">2024-03-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/03/11/AUTOSAR-CP-Compiler/" title="AUTOSAR CP 编译器抽象层"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2024/03/11/AUTOSAR-CP-Compiler/AUTOSAR_07.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AUTOSAR CP 编译器抽象层"/></a><div class="content"><a class="title" href="/2024/03/11/AUTOSAR-CP-Compiler/" title="AUTOSAR CP 编译器抽象层">AUTOSAR CP 编译器抽象层</a><time datetime="2024-03-11T14:04:58.000Z" title="发表于 2024-03-11 14:04:58">2024-03-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/03/07/AUTOSAR-CP-OS-%E5%A4%9A%E6%A0%B8%E7%AE%A1%E7%90%86/" title="AUTOSAR-CP-OS-多核管理"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2024/03/07/AUTOSAR-CP-OS-%E5%A4%9A%E6%A0%B8%E7%AE%A1%E7%90%86/AUTOSAR_06.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AUTOSAR-CP-OS-多核管理"/></a><div class="content"><a class="title" href="/2024/03/07/AUTOSAR-CP-OS-%E5%A4%9A%E6%A0%B8%E7%AE%A1%E7%90%86/" title="AUTOSAR-CP-OS-多核管理">AUTOSAR-CP-OS-多核管理</a><time datetime="2024-03-07T18:37:43.000Z" title="发表于 2024-03-07 18:37:43">2024-03-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/02/27/note-perf-mbw/" title="mbw性能优化笔记"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2024/02/27/note-perf-mbw/note_02.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="mbw性能优化笔记"/></a><div class="content"><a class="title" href="/2024/02/27/note-perf-mbw/" title="mbw性能优化笔记">mbw性能优化笔记</a><time datetime="2024-02-27T15:30:00.000Z" title="发表于 2024-02-27 15:30:00">2024-02-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/02/27/note-perf-dhrystone/" title="dhrystone性能优化笔记"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2024/02/27/note-perf-dhrystone/note_01.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="dhrystone性能优化笔记"/></a><div class="content"><a class="title" href="/2024/02/27/note-perf-dhrystone/" title="dhrystone性能优化笔记">dhrystone性能优化笔记</a><time datetime="2024-02-27T15:04:20.000Z" title="发表于 2024-02-27 15:04:20">2024-02-27</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item parent"><a class="card-category-list-link" href="/categories/AUTOSAR/"><span class="card-category-list-name">AUTOSAR</span><span class="card-category-list-count">7</span><i class="fas fa-caret-left "></i></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/AUTOSAR/AUTOSAR-Common/"><span class="card-category-list-name">AUTOSAR Common</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/AUTOSAR/AUTOSAR-Microcontroller-Drivers/"><span class="card-category-list-name">AUTOSAR Microcontroller Drivers</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/AUTOSAR/AUTOSAR-Onboard-Device-Abstraction/"><span class="card-category-list-name">AUTOSAR Onboard Device  Abstraction</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/AUTOSAR/AUTOSAR-System-Services/"><span class="card-category-list-name">AUTOSAR System Services</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/AUTOSAR/AUTOSAR-%E5%8D%8F%E8%AE%AE%E6%A0%88%E8%A7%A3%E6%9E%90/"><span class="card-category-list-name">AUTOSAR 协议栈解析</span><span class="card-category-list-count">1</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/RT-Thread/"><span class="card-category-list-name">RT-Thread</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/libc/"><span class="card-category-list-name">libc</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/"><span class="card-category-list-name">开发环境</span><span class="card-category-list-count">12</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/"><span class="card-category-list-name">开发笔记</span><span class="card-category-list-count">3</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/%E6%B1%87%E7%BC%96/" style="font-size: 1.15em; color: rgb(135, 19, 6)">汇编</a><a href="/tags/ARM/" style="font-size: 1.15em; color: rgb(63, 0, 192)">ARM</a><a href="/tags/iic/" style="font-size: 1.15em; color: rgb(98, 176, 164)">iic</a><a href="/tags/at24cxx/" style="font-size: 1.15em; color: rgb(56, 3, 168)">at24cxx</a><a href="/tags/AUTOSAR-CP/" style="font-size: 1.4em; color: rgb(8, 73, 149)">AUTOSAR CP</a><a href="/tags/BSW/" style="font-size: 1.35em; color: rgb(82, 164, 95)">BSW</a><a href="/tags/OS/" style="font-size: 1.25em; color: rgb(165, 162, 41)">OS</a><a href="/tags/Wdg/" style="font-size: 1.3em; color: rgb(53, 49, 158)">Wdg</a><a href="/tags/esp32/" style="font-size: 1.15em; color: rgb(135, 76, 164)">esp32</a><a href="/tags/linux/" style="font-size: 1.35em; color: rgb(84, 117, 190)">linux</a><a href="/tags/esp-idf/" style="font-size: 1.15em; color: rgb(61, 20, 29)">esp-idf</a><a href="/tags/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" style="font-size: 1.45em; color: rgb(158, 105, 37)">环境配置</a><a href="/tags/esp8266/" style="font-size: 1.15em; color: rgb(125, 9, 189)">esp8266</a><a href="/tags/keil/" style="font-size: 1.15em; color: rgb(73, 157, 99)">keil</a><a href="/tags/docker/" style="font-size: 1.2em; color: rgb(37, 30, 6)">docker</a><a href="/tags/QT/" style="font-size: 1.15em; color: rgb(83, 142, 23)">QT</a><a href="/tags/Linux/" style="font-size: 1.15em; color: rgb(10, 162, 114)">Linux</a><a href="/tags/ssh/" style="font-size: 1.2em; color: rgb(118, 164, 59)">ssh</a><a href="/tags/hexo/" style="font-size: 1.15em; color: rgb(156, 45, 8)">hexo</a><a href="/tags/syscall-ipc/" style="font-size: 1.15em; color: rgb(11, 17, 185)">syscall - ipc</a><a href="/tags/pthread/" style="font-size: 1.15em; color: rgb(42, 133, 49)">pthread</a><a href="/tags/TriCore-Debug/" style="font-size: 1.15em; color: rgb(77, 127, 124)">TriCore - Debug</a><a href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" style="font-size: 1.2em; color: rgb(130, 60, 56)">性能优化</a><a href="/tags/WSL/" style="font-size: 1.2em; color: rgb(150, 63, 80)">WSL</a><a href="/tags/Cortex-M/" style="font-size: 1.15em; color: rgb(126, 54, 39)">Cortex-M</a><a href="/tags/RT-Thread/" style="font-size: 1.15em; color: rgb(125, 107, 192)">RT-Thread</a><a href="/tags/RISC-V/" style="font-size: 1.15em; color: rgb(182, 188, 152)">RISC-V</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/03/"><span class="card-archive-list-date">三月 2024</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/02/"><span class="card-archive-list-date">二月 2024</span><span class="card-archive-list-count">9</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">十月 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/10/"><span class="card-archive-list-date">十月 2022</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/09/"><span class="card-archive-list-date">九月 2022</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/09/"><span class="card-archive-list-date">九月 2021</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/05/"><span class="card-archive-list-date">五月 2021</span><span class="card-archive-list-count">2</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">27</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2021-05-10T00:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">18k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-03-20T10:03:55.611Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By xqyjlj</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="chat_btn" type="button" title="聊天"><i class="fas fa-sms"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    window.typed = new Typed("#subtitle", {
      strings: ["似此星辰非昨夜，为谁风露立中宵"],
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = '似此星辰非昨夜，为谁风露立中宵'
  }
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>